#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
=========================
Test for qplotutils.bench
=========================



Autogenerated package stub.
"""
import unittest
import logging
import sys
import os
import numpy as np

from qtpy.QtCore import *
from qtpy.QtGui import *
from qtpy.QtOpenGL import *
from qtpy.QtWidgets import *

from qplotutils.bench import *

__author__ = "Philipp Baust"
__copyright__ = "Copyright 2019, Philipp Baust"
__credits__ = []
__license__ = "MIT"
__version__ = "0.0.2"
__maintainer__ = "Philipp Baust"
__email__ = "philipp.baust@gmail.com"
__status__ = "Development"

_log = logging.getLogger(__name__)


class AbstractContainerTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
        
    # def test_instantiate(self):
    #     """ Autogenerated. """
    #     obj = AbstractContainer()  # TODO: may fail!
    #

class BenchTests(unittest.TestCase):

    app = None

    @classmethod
    def setUpClass(cls):
        BenchTests.app = QApplication([])

    def setUp(self):
        config = CONFIG
        config.debug_layout = True
        self.bench = Bench()


        self.bench.setWindowTitle("Bench Example 01")
        self.bench.resize(300, 400)
        self.bench.show()

    def test_add_docks(self):
        self.assertAlmostEquals(len(self.bench.docks), 0)

        # First dock
        dock_01 = Dock()
        self.bench.addDock(dock_01)

        # Second dock
        dock_02 = Dock(title="Dock 2")
        self.bench.addDock(dock_02)

        self.bench.repaint()  # try to cover paintEvent
        self.bench.update()

        self.assertAlmostEquals(len(self.bench.docks), 2)

    def test_close_dock(self):
        self.assertAlmostEquals(len(self.bench.docks), 0)

        # First dock
        dock_01 = Dock()
        self.bench.addDock(dock_01)

        # Second dock
        dock_02 = Dock(title="Dock 2")
        self.bench.addDock(dock_02)
        self.assertAlmostEquals(len(self.bench.docks), 2)

        dock_02.close()
        self.assertAlmostEquals(len(self.bench.docks), 1)

    def test_move_dock(self):
        # First dock
        dock_01 = Dock()
        self.bench.addDock(dock_01)

        # Second dock
        dock_02 = Dock(title="Dock 2")
        self.bench.addDock(dock_02, placement=Placement.BOTTOM, ref=dock_01)

        self.bench.dockMove(dock_01.uid, placement=Placement.TAB, ref_uid=dock_02.uid)

        d = dock_02.parentContainer.docks
        self.assertEqual(len(d), 2)

    def test_close_dock(self):
        # First dock
        dock_01 = Dock()
        self.bench.addDock(dock_01)

        # Second dock
        dock_02 = Dock(title="Dock 2")
        self.bench.addDock(dock_02, placement=Placement.BOTTOM, ref=dock_01)


        dock_01.close()
        self.assertEqual(len(self.bench.docks), 1)



class BenchExceptionTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
        
    def test_instantiate(self):
        """ Autogenerated. """
        obj = BenchException()  # TODO: may fail!


class BenchItemTests(unittest.TestCase):

    app = None

    @classmethod
    def setUpClass(cls):
        cls.app = QApplication([])

    def setUp(self):
        """ Autogenerated. """
        pass
        
    def test_instantiate(self):
        """ Autogenerated. """
        obj = BenchItem()  # TODO: may fail!


class DockTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
        
    def test_instantiate(self):
        """ Autogenerated. """
        obj = Dock()  # TODO: may fail!


class DropOverlayTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
        
    # def test_instantiate(self):
    #     """ Autogenerated. """
    #     obj = DropOverlay()  # TODO: may fail!


class PlacementTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
        
    def test_instantiate(self):
        """ Autogenerated. """
        obj = Placement()  # TODO: may fail!


class SplitterContainerTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
    #
    # def test_instantiate(self):
    #     """ Autogenerated. """
    #     obj = SplitterContainer()  # TODO: may fail!


class TabTests(unittest.TestCase):

    app = None

    @classmethod
    def setUpClass(cls):
        cls.app = QApplication([])

    def setUp(self):
        """ Autogenerated. """
        pass
        
    # def test_instantiate(self):
    #     """ Autogenerated. """
    #     obj = Tab()  # TODO: may fail!


class TabContainerTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
        
    # def test_instantiate(self):
    #     """ Autogenerated. """
    #     obj = TabContainer()  # TODO: may fail!


class TabHeaderTests(unittest.TestCase):

    def setUp(self):
        """ Autogenerated. """
        pass
        
    def test_instantiate(self):
        """ Autogenerated. """
        obj = TabHeader()  # TODO: may fail!